---
title: Heroku Scala Support
slug: scala-support
url: https://devcenter.heroku.com/articles/scala-support
description: Reference documentation describing the support for Scala on Heroku's Cedar stack.
---

The Heroku Cedar stack is capable of running a variety of types of Scala applications.

This document describes the general behavior of the Cedar stack as it relates to the recognition and execution of Scala applications. For a more detailed explanation of how to deploy an application, see:

[Getting Started with Scala on Heroku/Cedar](http://devcenter.heroku.com/articles/scala)

##Activation
Scala applications are recognized when files matching any of the following patterns are found:

 - `/*.sbt`
 - `/project/*.scala`
 - `/project/build.properties`
 - `/.sbt/*.scala`

When a deployed application is recognized as a Scala application, Heroku responds with `-----> Scala app detected`.

    :::term
    $ git push heroku master
    -----> Scala app detected

If an application also contains a `/conf/application.conf` file, a Play 2.0 application is detected and Heroku responds with `-----> Play 2.0 app detected`. Please see the [Heroku Play Support](play-support) article for more information.

Scala applications that use Maven can be deployed as well, but they will be treated as Java applications, so [Heroku Java Support](java-support) will apply.

##Environment
The following environment variables will be set:

 - `PATH`: `.sbt_home/bin:/usr/local/bin:/usr/bin:/bin`
 - `JAVA_OPTS`: `-Xmx384m -Xss512k -XX:+UseCompressedOops`
 - `SBT_OPTS`: `-Xmx384m -Xss512k -XX:+UseCompressedOops`
 - `REPO`: `/app/.sbt_home/.ivy2/cache`
 - `PORT`: HTTP port to which the web process should bind
 - `DATABASE_URL`: URL of the [Heroku Postgres](heroku-postgresql) database connection

##Build behavior
Applications must include a `/project/build.properties` file with the `sbt.version` property specifying a release version of SBT 0.11.0 - 0.12.3. SBT release candidates (i.e. RC versions) are not supported.

The Heroku Scala buildpack will run `sbt clean compile stage` to build the application. Applications must include a `stage` task, which performs any tasks needed to prepare an application to be run in-place. For example, Typesafeâ€™s [`xbst-start-script-plugin`](http://github.com/typesafehub/xsbt-start-script-plugin) adds a `stage` task to SBT that generates start scripts for an application. To use the plugin, create a `/project/build.sbt` file containing:

    resolvers += Classpaths.typesafeResolver

    addSbtPlugin("com.typesafe.startscript" % "xsbt-start-script-plugin" % "0.5.1")

##Runtime behavior
By default, Scala applications are launched with start script generated by the [`xbst-start-script-plugin`](http://github.com/typesafehub/xsbt-start-script-plugin):

    web: target/start -Dhttp.port=$PORT $JAVA_OPTS

If an application is not using the [`xbst-start-script-plugin`](http://github.com/typesafehub/xsbt-start-script-plugin) or should be launched in a different way, a custom [`Procfile`](https://devcenter.heroku.com/articles/procfile) can be included in the root of the project specifying a different entry for the `web` process.

##JVM Versions
By default, OpenJDK 1.6 is installed with your app. However, you can choose to use a newer JDK by specifying `java.runtime.version=1.7` in the `system.properties` file.

Here's what a `system.properties` file looks like:

    :::term
    java.runtime.version=1.7

You can specify 1.6, 1.7, or 1.8 (1.8 is in beta) for Java 6, 7, or 8 (with lambdas), respectively.

The JDK that your app uses will be included in the slug, which will affect your slug size.

##Add-ons
A Heroku Postgres starter-tier database add-on is automatically provisioned for Scala applications. This populates the `DATABASE_URL` environment variable.