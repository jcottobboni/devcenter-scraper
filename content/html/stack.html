<p>A stack is a complete deployment environment including the base operating system, the language runtime and associated libraries. As a result, different stacks support different runtime environments.</p>

<h2 id="stack-summary">Stack summary</h2>

<table id="stack-compare" class="compare">
<tr>
<th class="icon"> </th>
<th class="tech">Base Technology</th>
<th>REE 1.8.7</th>
<th>MRI 1.8.7</th>
<th>MRI 1.9.2</th>
<th>MRI 1.9.3</th>
<th>MRI 2.0.0</th>
<th>Node.js</th>
<th>Clojure</th>
<th>Java</th>
<th>Python</th>
<th>Scala</th>
  </tr>
<tr id="celadon-cedar">
<td class="icon" rowspan="2" style="vertical-align: top;"><a href="https://devcenter.heroku.com/articles/cedar">Celadon Cedar</a></td>
    <td class="tech">Ubuntu 10.04</td>
    <td> </td>
    <td><span class="check">•</span></td>
    <td><span class="check">•</span></td>
    <td><span class="check">•</span></td>
    <td><span class="check">•</span></td>
    <td><span class="check">•</span></td>
    <td><span class="check">•</span></td>
    <td><span class="check">•</span></td>
    <td><span class="check">•</span></td>
    <td><span class="check">•</span></td>
  </tr>
<tr id="celadon-cedar-14">
<td class="tech" style="text-align: center;">Ubuntu 14.04</td>
    <td> </td>
    <td><span class="check">•</span></td>
    <td><span class="check">•</span></td>
    <td><span class="check">•</span></td>
    <td><span class="check">•</span></td>
    <td><span class="check">•</span></td>
    <td><span class="check">•</span></td>
    <td> </td>
    <td><span class="check">•</span></td>
    <td><span class="check">•</span></td>
  </tr>
<tr id="badious-bamboo">
<td class="icon"><a href="https://devcenter.heroku.com/articles/bamboo">Badious Bamboo</a></td>
    <td class="tech">Debian Lenny 5.0</td>
    <td><span class="check">•</span></td>
    <td> </td>
    <td><span class="check">•</span></td>
    <td> </td>
    <td> </td>
    <td> </td>
    <td> </td>
    <td> </td>
    <td> </td>
    <td> </td>
  </tr>
</table><p>You can provision new apps on both flavors of the <a href="https://devcenter.heroku.com/articles/cedar">Cedar</a> stack. The stack for existing apps can be determined using the <code>stack</code> <a href="https://devcenter.heroku.com/articles/using-the-cli">CLI</a> command.</p>

<pre><code class="term">$ heroku stack
  bamboo-mri-1.9.2
  bamboo-ree-1.8.7
* cedar
  cedar-14
</code></pre>

<p>Here, the app is running on <a href="https://devcenter.heroku.com/articles/cedar">Celadon Cedar</a>.</p>

<h2 id="changing-stacks">Changing stacks</h2>

<p>You can change the stack for an existing application with the <code>stack:set</code> command. For example:</p>

<pre><code class="term">$ heroku stack:set cedar
Stack set, next release on example-app will use cedar.
Run `git push heroku master` to create a new release on cedar.
</code></pre>

<h2 id="migrating-to-a-new-stack">Migrating to a new stack</h2>

<p>You will likely need to make changes to your application code as you move an app to a different stack. The <code>stack:set</code> command will tell Heroku what stack to use, but it is your responsibility, as the application developer, to make any required changes to your code.</p>

<p>When migrating a production app to a new stack, you should perform the migration work on a staging version of the app in a separate code branch. Once you have tested that the app runs correctly on the new stack, you can merge in your changes on the production environment, change the stack with <code>stack:set</code> and deploy.</p>

<p>Heroku Dev Center has instructions for <a href="https://devcenter.heroku.com/articles/cedar-migration">migrating from Bamboo to Cedar</a>.</p>