<p>This <a href="http://devcenter.heroku.com/categories/labs">Heroku Labs</a> feature adds experimental support for having an app’s config vars be present in the environment during slug compilation.</p>
<p class="warning">
The features added through labs are experimental and may change or be removed without notice.
</p><p class="callout">Using this labs feature is considered counter to Heroku best practices. This labs feature can make your builds less deterministic and require re-deploys after making config changes. Ideally your app should be able to <a href="http://12factor.net/build-release-run">build without config</a>.</p>
<h2 id="use-case">Use case</h2>

<p>Making an app’s <a href="https://devcenter.heroku.com/articles/config-vars">config vars</a> present during the build allows for build-time optimizations to run in an environment that more closely resembles the runtime environment. This also allows config vars to be used to configure the build.</p>

<p>For example, because Rails 3.1 couples configuration with initialization, the Rails 3.1 <code>assets:precompile</code> task performs much more reliably in the presence of the runtime config.</p>

<h2 id="warning">Warning</h2>

<p>Changing config vars will not cause an app’s slug to be recompiled. This could lead to unexpected inconsistency if a slug was compiled with a different set of config vars than those it is run against. Pushing new code will cause the slug to be recompiled against the current set of config vars.</p>

<h2 id="enabling">Enabling</h2>

<pre><code class="term">$ heroku labs:enable user-env-compile -a myapp
-----&gt; Enabling user-env-compile for myapp... done
WARNING: This feature is experimental and may change or be removed without notice.</code></pre>

<h2 id="disabling">Disabling</h2>

<pre><code class="term">$ heroku labs:disable user-env-compile -a myapp
-----&gt; Disabling user-env-compile for myapp... done</code></pre>